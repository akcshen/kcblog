(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{299:function(t,s,a){"use strict";a.r(s);var n=a(14),r=Object(n.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"快应用广告缩放-2-24"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#快应用广告缩放-2-24"}},[t._v("#")]),t._v(" 快应用广告缩放 2-24")]),t._v(" "),s("h2",{attrs:{id:"快应用实现摇一摇"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#快应用实现摇一摇"}},[t._v("#")]),t._v(" 快应用实现摇一摇")]),t._v(" "),s("p",[t._v("快应用提供的有监听重力感应数据接口；")]),t._v(" "),s("p",[t._v("直接调用即可，然后就是摇动幅度的适配，通过尝试得到的适合当前的值是 "),s("strong",[t._v("12")])]),t._v(" "),s("p",[t._v("代码如下：")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" sensor "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"@system.sensor"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" bastSensorTimer "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1200")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" sensorAmplitude "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("12")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" timerClikcSensorTimer "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nsensor"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("subscribeAccelerometer")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("callback")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("ret")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" cutTime "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Date")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getTime")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n      ret"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("x "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" sensorAmplitude "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("||")]),t._v("\n      ret"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("y "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" sensorAmplitude "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("||")]),t._v("\n      ret"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("z "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" sensorAmplitude\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("cutTime "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" timerClikcSensorTimer "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" bastSensorTimer"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        sensorSend"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("postMessage")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("typeFrom"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        timerClikcSensorTimer "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" cutTimee"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("h2",{attrs:{id:"弹窗广告缩放"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#弹窗广告缩放"}},[t._v("#")]),t._v(" 弹窗广告缩放")]),t._v(" "),s("p",[t._v("弹窗上面需要增加底部的 banner 广告，内容长度不足，遂，对广告进行了缩放，")]),t._v(" "),s("h3",{attrs:{id:"_1-选择的方法是使用-scale"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-选择的方法是使用-scale"}},[t._v("#")]),t._v(" 1.选择的方法是使用 scale；")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("transform-orgin:(0px,0px);\ntransfrom:scale(0.7,0.7);\n")])])]),s("p",[t._v("缩放之后，存在的问题是依然占位，在 web 端可以使用")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("zoom:0.7;\n")])])]),s("p",[t._v("解决缩放的问题，然而快应用不支持，")]),t._v(" "),s("p",[t._v("解决方案 margin 负值，之前没发现问题，使用的固定值，但是由于广告尺寸不同，所以不能使用"),s("strong",[t._v("固定值")]),t._v("，解决方法是获取当前元素的实际高度，跟缩放之前的宽度进行")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("实现方法：\n\nmargin-bottom:-(缩放前高度-缩放前高度*缩放比例)\n\n缩放前宽度：400px;\n缩放前高度：自适应；\n\n缩放后宽度：300px;\n缩放后高度：200px;\n\n计算出应该的 margin 负值   ----\n")])])]),s("p",[t._v("略微有点麻烦，")]),t._v(" "),s("h3",{attrs:{id:"_2-使用计算"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-使用计算"}},[t._v("#")]),t._v(" 2.使用计算；")]),t._v(" "),s("ol",[s("li",[s("p",[t._v("通过 scale 找到合适的缩放比例")])]),t._v(" "),s("li",[s("p",[t._v("直接修改宽度，乘于 合适的 宽度")])]),t._v(" "),s("li",[s("p",[t._v("修改适配样式")])])]),t._v(" "),s("h2",{attrs:{id:"目标-快应用实现如同百度的封装"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#目标-快应用实现如同百度的封装"}},[t._v("#")]),t._v(" 目标：快应用实现如同百度的封装：")])])}),[],!1,null,null,null);s.default=r.exports}}]);